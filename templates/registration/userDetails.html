{% extends 'home.html' %}
{% block article %}
<section>
    {% if user.role == 'IT' %}
    <h2>User Details</h2>
    <table class="table table-bordered table-hover table-striped">
        <tbody>
            <tr>
                <th>Name</th>
                <td>{{ staff.first_name }} {{ staff.last_name }}</td>
            </tr>
            <tr>
                <th>Email</th>
                <td>{{ staff.email }}</td>
            </tr>
            <tr>
                <th>Role</th>
                <td>{{ staff.role }}</td>
            </tr>
            <tr>
                <th>Branch</th>
                <td>{{ staff.branch }}</td>
            </tr>
            <tr>
                <th>Action</th>
                <td>
                    <a class="nav-link material-symbols-outlined text-primary me-3" href="{% url 'updateUser' staff.pk %}">edit</a>
                    <a class="nav-link material-symbols-outlined text-danger" type="button" data-bs-toggle="modal" data-bs-target="#myModal">delete</a>
                    <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header bg-danger">
                                    <h5 class="modal-title" id="myModalLabel">Delete User</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <p>WARNING: Are you sure you want to delete this user?</p>
                                </div>
                                <div class="modal-footer">
                                    <a class="btn btn-danger" href="{% url 'deleteUser' staff.pk %}">Yes</a>
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    {% else %}
    <div class="fluid-container row align-items-center" style="height: 50vh;">
        <h2 class="text-center">You are not authorized to access this page!</h2>
    </div>
    {% endif %}
</section>
{% endblock %}